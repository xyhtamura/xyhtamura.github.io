<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiltCRT - Soft Granular Signal Emulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container">
        <div id="canvas-container">
            <div id="drop-zone">
                <p>Drag & Drop Image Here<br>or</p>
                <button id="upload-btn-placeholder">Upload Image</button>
            </div>
            <canvas id="main-canvas"></canvas>
        </div>

        <div id="controls-container">
            <h2 class="title">SILTCRT (BLOCK)</h2>
            <p class="subtitle">Soft Granular Signal Emulator</p>
            
            <div class="control-group">
                <h3>Warping</h3>
                <div class="slider-group">
                    <label for="turbulence">Turbulence</label>
                    <input type="range" id="turbulence" min="0.0" max="2.0" value="0.5" step="0.01">
                    <input type="number" id="turbulence-num" min="0.0" max="2.0" value="0.5" step="0.01">
                </div>
                <div class="slider-group">
                    <label for="flowSpeed">Flow Speed (Log)</label>
                    <input type="range" id="flowSpeed" min="0.0" max="1.0" value="0.46" step="0.01">
                    <input type="number" id="flowSpeed-num" min="0.0" max="1.0" value="0.1" step="0.01">
                </div>
            </div>

            <div class="control-group">
                <h3>Phosphor & Analog</h3>
                <div class="slider-group">
                    <label for="phosphorSize">Phosphor Size</label>
                    <input type="range" id="phosphorSize" min="50" max="600" value="600" step="1">
                    <input type="number" id="phosphorSize-num" min="50" max="600" value="600" step="1">
                </div>
                 <div class="slider-group">
                    <label for="chromaticBleed">Chromatic Bleed</label>
                    <input type="range" id="chromaticBleed" min="0.0" max="0.02" value="0.001" step="0.0001">
                    <input type="number" id="chromaticBleed-num" min="0.0" max="0.02" value="0.001" step="0.0001">
                </div>
                <div class="slider-group">
                    <label for="persistence">Ghosting</label>
                    <input type="range" id="persistence" min="0.0" max="0.99" value="0.95" step="0.001">
                    <input type="number" id="persistence-num" min="0.0" max="0.99" value="0.95" step="0.001">
                </div>
            </div>

            <div class="button-group">
                <input type="file" id="file-upload" accept="image/*" style="display: none;">
                <button id="upload-btn">Upload Image</button>
                <button id="save-btn">Save Image</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="script.js"></script>
</body>
</html>